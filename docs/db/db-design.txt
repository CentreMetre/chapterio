// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

Table books {
  id int pk
  series_id int [ref: > book_series.id]
  //type int [not null]
  name text
  isbn text
}

Table chapters {
  id int pk
  book_id int [not null, ref: > books.id]
  title text
  /* ^^ Text title excluding any number,
  e.g. 'Perfect letters' rather than 'Chapter 1 Perfect letters' (from Typography A Very Short Introduction)
  or, manga example, 
  'Yoshimoto-san' rather than 'Chapter 3: Yoshimoto-san' from 100 Kanojo manga,
  */
  order_index int // Chronological order, 1, 2, 3... (no decimals)
  display_number text // The number to display, e.g. 1, 2, 3, 4, 5, 5.5
}

Table book_universes {
  id int pk
  name text
}

Table book_series {
  id int pk
  universe_id int [ref: > book_universes.id]
  name text
}

Table finish_reasons {
  id int pk
  reason text
}

Table chapter_reads {
  id int pk // Maybe change to UUID or similar
  chapter_id int [not null, ref: > chapters.id]
  start_date date
  start_time time
  end_date date
  end_time time
  finish_reason int [not null, ref: > finish_reasons.id]
  book_reads_id int [ref: > book_reads.id]
  notes text
}

Table book_reads {
  id int pk // Maybe change to UUID or similar
  book_id int [not null, ref: > books.id]
  start_date date
  start_time time
  end_date date
  end_time time
  finish_reason int [not null, ref: > finish_reasons.id]
  book_series_reads_id int [ref: > book_series_reads.id]
  notes text
}

Table book_series_reads {
  id int pk // Maybe change to UUID or similar
  book_series_id int [not null, ref: > book_series.id]
  start_date date
  start_time time
  end_date date
  end_time time
  finish_reason int [not null, ref: > finish_reasons.id]
  book_universe_reads_id int [ref: > book_universe_reads.id]
  notes text
}

Table book_universe_reads {
  id int pk // Maybe change to UUID or similar
  book_universe_id int [not null, ref: > book_universes.id]
  start_date date
  start_time time
  end_date date
  end_time time
  finish_reason int [not null, ref: > finish_reasons.id]
  notes text
}
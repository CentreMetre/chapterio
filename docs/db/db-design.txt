// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

Table books {
  id int pk
  series_id int [ref: > book_series.id]
  universe_id int [ref: > book_universes.id]
  //type int [not null]
  name text [not null]
  isbn text
}

Table chapters {
  id int pk
  book_id int [not null, ref: > books.id]
  title text
  /* ^^ Text title excluding any chapter number,
  e.g. 'Perfect letters' rather than 'Chapter 1 Perfect letters' (from Typography A Very Short Introduction)
  or, manga example, 
  'Yoshimoto-san' rather than 'Chapter 3: Yoshimoto-san' from 100 Kanojo manga,
  */
  order_index int [not null] // Chronological order, 1, 2, 3... (no decimals)
  display_number text [not null] // The number to display, e.g. 1, 2, 3, 4, 5, 5.5
}

Table book_universes {
  id int pk
  name text
}

Table book_series {
  id int pk
  universe_id int [ref: > book_universes.id]
  name text
}

Table reading_statuses {
  id int pk
  status text
}

Table chapter_reads {
  id int pk // Maybe change to UUID or similar
  chapter_id int [not null, ref: > chapters.id]
  start_date date
  start_time time
  end_date date
  end_time time
  book_reads_id int [ref: > book_reads.id]
  status int [not null, ref: > reading_statuses.id]
  notes text
}

Table book_reads {
  id int pk // Maybe change to UUID or similar
  book_id int [not null, ref: > books.id]
  start_date date
  start_time time
  end_date date
  end_time time
  book_series_reads_id int [ref: > book_series_reads.id]
  book_universe_reads_id int [ref: > book_universe_reads.id]
  status int [not null, ref: > reading_statuses.id]
  notes text
}

Table book_series_reads {
  id int pk // Maybe change to UUID or similar
  book_series_id int [not null, ref: > book_series.id]
  start_date date
  start_time time
  end_date date
  end_time time
  book_universe_reads_id int [ref: > book_universe_reads.id]
  status int [not null, ref: > reading_statuses.id]
  notes text
}

Table book_universe_reads {
  id int pk // Maybe change to UUID or similar
  book_universe_id int [not null, ref: > book_universes.id]
  start_date date
  start_time time
  end_date date
  end_time time
  status int [not null, ref: > reading_statuses.id]
  notes text
}
